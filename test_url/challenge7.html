<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Single Sequence Light Flash Challenge</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body { background-color: #f8f9fa; }
  .light-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 50px;
  }
  .light {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #bbb; /* off state */
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #fff;
    font-family: Arial, sans-serif;
  }
  #userInput { max-width: 400px; margin: auto; }
</style>
</head>
<body>

<div class="container text-center">
  <h1>Single Sequence Light Flash Challenge</h1>
  <p>Click "Start" to watch the lights flash in order. Each light represents a letter. Submit the sequence once done.</p>

  <button id="startBtn" class="btn btn-success mb-3">Start</button>

  <div class="light-container">
    <div class="light" id="light1">A</div>
    <div class="light" id="light2">B</div>
    <div class="light" id="light3">C</div>
    <div class="light" id="light4">D</div>
    <div class="light" id="light5">E</div>
  </div>

  <div class="my-4">
    <input type="text" id="userInput" class="form-control" placeholder="Type the letter sequence">
    <button id="submitBtn" class="btn btn-primary mt-2">Submit</button>
  </div>

  <div id="result" class="mt-3"></div>
</div>

<script>
  const lights = [
    document.getElementById('light1'),
    document.getElementById('light2'),
    document.getElementById('light3'),
    document.getElementById('light4'),
    document.getElementById('light5')
  ];

  const sequence = [
    {index: 0, letter: 'A'},
    {index: 3, letter: 'D'},
    {index: 1, letter: 'B'},
    {index: 4, letter: 'E'},
    {index: 2, letter: 'C'},
  ];

  let seqIndex = 0;
  let intervalId;

  function flashNext() {
    if(seqIndex >= sequence.length){
      lights.forEach(l => l.style.backgroundColor = '#bbb');
      clearInterval(intervalId);
      return;
    }
    lights.forEach(l => l.style.backgroundColor = '#bbb');
    const current = sequence[seqIndex];
    lights[current.index].style.backgroundColor = '#28a745';
    seqIndex++;
  }

  document.getElementById('startBtn').addEventListener('click', () => {
    seqIndex = 0; // reset sequence
    intervalId = setInterval(flashNext, 800);
  });

  document.getElementById('submitBtn').addEventListener('click', ()=>{
    const userText = document.getElementById('userInput').value.toUpperCase();
    const correct = sequence.map(s => s.letter).join('');
    const resultDiv = document.getElementById('result');
    if(userText === correct){
      resultDiv.innerHTML = `<div class="alert alert-success">✅ Correct! Challenge Complete.</div>`;
    } else {
      resultDiv.innerHTML = `<div class="alert alert-danger">❌ Incorrect. Try Again.</div>`;
    }
  });
</script>

</body>
</html>
