<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Final Challenge</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Fake decoy clue */
      #fake::after {
        content: "SECRET_CODE: WRONG123";
      }
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #f8f9fa;
      }
      #secretMessage {
        display: none;
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <div class="card p-4 shadow-sm" style="width: 400px">
      <h3 class="card-title mb-3 text-center">Final Challenge</h3>
      <p>Enter the secret code to unlock the secret.</p>

      <form id="codeForm">
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            id="inputCode"
            placeholder="Type the secret code"
            required
          />
        </div>
        <button type="submit" class="btn btn-success w-100">Submit Code</button>
      </form>

      <div id="secretMessage" class="alert alert-success text-center">
        The answer is: AMISH NOOB
      </div>
    </div>

    <script>
      let secretCode = "";

      // Set the secret code immediately on page load
      const encoded = "U0VDUkVUX0NPREU6IFBTSVgxMjM="; // Base64 of "SECRET_CODE: PSIX123"
      const decoded = atob(encoded); // Decode Base64
      secretCode = decoded.split(": ")[1]; // Extract "PSIX123"

      document.getElementById("codeForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const userInput = document.getElementById("inputCode").value.trim();
        if (userInput === secretCode && secretCode !== "") {
          document.getElementById("secretMessage").style.display = "block";
        } else {
          alert("Wrong code! Try again.");
        }
        document.getElementById("inputCode").value = "";
      });
    </script>
  </body>
</html>
